{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\raulf\\\\Desktop\\\\nativeFrontend\\\\screens\\\\RegistroUs.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport * as React from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Picker from \"react-native-web/dist/exports/Picker\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { Icon, Button, Avatar } from 'react-native-elements';\nimport AwesomeAlert from 'react-native-awesome-alerts';\n\nvar imgFooter = require(\"../assets/reg.jpg\");\n\nvar imgCamera = require(\"../assets/camara.png\");\n\nvar RegisterUsScreen = function (_React$Component) {\n  _inherits(RegisterUsScreen, _React$Component);\n\n  var _super = _createSuper(RegisterUsScreen);\n\n  function RegisterUsScreen(props) {\n    var _this;\n\n    _classCallCheck(this, RegisterUsScreen);\n\n    _this = _super.call(this, props);\n\n    _this.changeHandler = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    _this.showAlert = function () {\n      _this.setState({\n        showAlert: true\n      });\n    };\n\n    _this.hideAlert = function () {\n      _this.setState({\n        showAlert: false\n      });\n    };\n\n    var loggedIn = true;\n    _this.state = {\n      name: '',\n      email: '',\n      password: '',\n      showAlert: false,\n      state: ''\n    };\n    return _this;\n  }\n\n  _createClass(RegisterUsScreen, [{\n    key: \"submit\",\n    value: function submit() {\n      var _this2 = this;\n\n      var collection = {};\n      collection.username = this.state.name, collection.email = this.state.email, collection.password = this.state.password;\n      console.log(collection);\n      var url = 'http://127.0.0.1:8000/auth/register/';\n      fetch(url, {\n        method: 'POST',\n        body: JSON.stringify(collection),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(function (res) {\n        return res.json().then(function (data) {\n          return {\n            data: data,\n            status: res.status\n          };\n        }).catch(function (error) {\n          return console.error('Error:', error);\n        }).then(function (response) {\n          console.log(response.status, response.data);\n\n          if (response.status == '201') {\n            _this2.state.state = 'Se ha enviado un correo de confirmacion a:' + '\\n' + response.data.data.email;\n\n            _this2.showAlert();\n\n            window.location.reload(false);\n          } else if (response.status == '403') {\n            alert(response.data.detail);\n          } else if (response.status == '400' && response.data.errors) {\n            if (response.data.errors.email && response.data.errors.username) {\n              _this2.state.state = response.data.errors.email + '\\n' + response.data.errors.username;\n\n              _this2.showAlert();\n            } else if (response.data.errors.email) {\n              _this2.state.state = response.data.errors.email;\n\n              _this2.showAlert();\n            } else if (response.data.errors.username) {\n              _this2.state.state = response.data.errors.username;\n\n              _this2.showAlert();\n            }\n          } else if (response.status == '400' && response.data.errors.password) {\n            if (response.data.errors.email && response.data.errors.password) {\n              _this2.state.state = response.data.errors.password;\n\n              _this2.showAlert();\n            }\n          } else if (response.status == '400' && response.data.email) {\n            alert(response.data.email);\n          }\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state = this.state,\n          name = _this$state.name,\n          email = _this$state.email,\n          password = _this$state.password;\n      var showAlert = this.state.showAlert;\n      return React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }\n      }, React.createElement(View, {\n        style: styles.containerName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }\n      }, React.createElement(TextInput, {\n        placeholder: \"Nombre y apellido\",\n        placeholderTextColor: \"gray\",\n        style: styles.textInput,\n        onChange: this.changeHandler,\n        name: \"name\",\n        value: name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 14\n        }\n      })), React.createElement(View, {\n        style: styles.containerEmail,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 12\n        }\n      }, React.createElement(TextInput, {\n        placeholder: \"Email\",\n        placeholderTextColor: \"gray\",\n        style: styles.textInput,\n        onChange: this.changeHandler,\n        name: \"email\",\n        value: email,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 14\n        }\n      })), React.createElement(View, {\n        style: styles.containerPassword,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 12\n        }\n      }, React.createElement(TextInput, {\n        placeholder: \"Contrasena\",\n        placeholderTextColor: \"gray\",\n        style: styles.textInput,\n        onChange: this.changeHandler,\n        name: \"password\",\n        secureTextEntry: true,\n        value: password,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 14\n        }\n      })), React.createElement(View, {\n        style: styles.containerPicker,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 12\n        }\n      }, React.createElement(Picker, {\n        selectedValue: \"Zona de preferencias\",\n        style: styles.picker,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 12\n        }\n      }, React.createElement(Picker.Item, {\n        label: \"Matematicas\",\n        value: \"java\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 9\n        }\n      }), React.createElement(Picker.Item, {\n        label: \"Espanol\",\n        value: \"js\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 9\n        }\n      }))), React.createElement(AwesomeAlert, {\n        show: showAlert,\n        showProgress: false,\n        title: \"Advertencia\",\n        message: this.state.state,\n        closeOnTouchOutside: true,\n        closeOnHardwareBackPress: false,\n        showConfirmButton: true,\n        confirmText: \"Ok\",\n        confirmButtonColor: \"#DD6B55\",\n        onCancelPressed: function onCancelPressed() {\n          _this3.hideAlert();\n        },\n        onConfirmPressed: function onConfirmPressed() {\n          _this3.hideAlert();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 7\n        }\n      }), React.createElement(View, {\n        style: styles.containerSignIn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 12\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: styles.buttonLogin,\n        onPress: function onPress() {\n          return _this3.submit();\n        },\n        underlayColor: \"#fff\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 14\n        }\n      }, React.createElement(Text, {\n        style: styles.loginText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 22\n        }\n      }, \"Entrar\"))));\n    }\n  }]);\n\n  return RegisterUsScreen;\n}(React.Component);\n\nRegisterUsScreen.navigationOptions = {\n  header: null\n};\nexport { RegisterUsScreen as default };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'stretch',\n    width: '100%',\n    height: '100%',\n    marginTop: '10%'\n  },\n  avatarCamara: {\n    width: '25%',\n    height: '20%',\n    alignSelf: 'center',\n    marginTop: '10%'\n  },\n  containerRegister: {\n    flex: 2,\n    marginLeft: '3%',\n    marginRight: '3%',\n    borderBottomColor: 'gray',\n    borderBottomWidth: 1\n  },\n  containerSignIn: {\n    height: 50,\n    marginLeft: '12%',\n    marginRight: '12%',\n    marginTop: '9%'\n  },\n  containerName: {\n    height: 50,\n    flexDirection: 'row',\n    justifyContent: 'center',\n    backgroundColor: 'white',\n    marginLeft: '10%',\n    marginRight: '10%'\n  },\n  containerPassword: {\n    height: 50,\n    flexDirection: 'row',\n    justifyContent: 'center',\n    backgroundColor: 'white',\n    marginLeft: '10%',\n    marginRight: '10%',\n    marginTop: '2%'\n  },\n  containerEmail: {\n    height: 50,\n    flexDirection: 'row',\n    justifyContent: 'center',\n    backgroundColor: 'white',\n    marginLeft: '10%',\n    marginRight: '10%',\n    marginTop: '2%'\n  },\n  containerPicker: {\n    height: 50,\n    flexDirection: 'row',\n    justifyContent: 'center',\n    backgroundColor: 'white',\n    marginLeft: '10%',\n    marginRight: '10%',\n    marginTop: '2%'\n  },\n  icon: {\n    flex: 1\n  },\n  textInput: {\n    backgroundColor: 'transparent',\n    flex: 5,\n    color: 'black',\n    paddingLeft: '25%'\n  },\n  textInput: {\n    backgroundColor: 'transparent',\n    flex: 5,\n    color: 'black',\n    borderBottomWidth: 1,\n    borderBottomColor: 'gray',\n    textAlign: 'left'\n  },\n  containerSignIn: {\n    height: 60,\n    width: '30%',\n    marginTop: '10px',\n    alignSelf: 'center'\n  },\n  buttonLogin: {\n    backgroundColor: '#22d48a',\n    borderRadius: 5,\n    alignItems: 'center',\n    paddingTop: '20px',\n    paddingBottom: '20px',\n    width: '350%',\n    alignSelf: 'center',\n    marginTop: '15%'\n  },\n  loginText: {\n    color: '#fff',\n    textAlign: 'center',\n    paddingLeft: 10,\n    paddingRight: 10,\n    fontWeight: 'bold',\n    fontSize: 15\n  },\n  picker: {\n    backgroundColor: 'transparent',\n    flex: 5,\n    color: 'black',\n    paddingLeft: '25%',\n    color: 'gray'\n  }\n});","map":{"version":3,"sources":["C:/Users/raulf/Desktop/nativeFrontend/screens/RegistroUs.js"],"names":["React","Icon","Button","Avatar","AwesomeAlert","imgFooter","require","imgCamera","RegisterUsScreen","props","changeHandler","e","setState","target","name","value","showAlert","hideAlert","loggedIn","state","email","password","collection","username","console","log","url","fetch","method","body","JSON","stringify","headers","then","res","json","data","status","catch","error","response","window","location","reload","alert","detail","errors","styles","container","containerName","textInput","containerEmail","containerPassword","containerPicker","picker","containerSignIn","buttonLogin","submit","loginText","Component","navigationOptions","header","StyleSheet","create","flex","flexDirection","justifyContent","alignItems","width","height","marginTop","avatarCamara","alignSelf","containerRegister","marginLeft","marginRight","borderBottomColor","borderBottomWidth","backgroundColor","icon","color","paddingLeft","textAlign","borderRadius","paddingTop","paddingBottom","paddingRight","fontWeight","fontSize"],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport { Text,TextInput,View, ImageBackground,StyleSheet,TouchableOpacity, Picker,Alert } from 'react-native';\r\nimport { Icon,Button,Avatar } from 'react-native-elements'\r\nimport AwesomeAlert from 'react-native-awesome-alerts';\r\n\r\nconst imgFooter = require('../assets/reg.jpg');\r\nconst imgCamera = require('../assets/camara.png')\r\n\r\nexport default class RegisterUsScreen extends React.Component {\r\n  constructor(props){\r\n    super(props)\r\n    /*const token = localStorage.getItem(\"token\")\r\n\r\n    \r\n    if(token==null){\r\n        loggedIn = false\r\n    }*/\r\n    let loggedIn = true\r\n    this.state = {\r\n        name:'',\r\n        email:'',\r\n        password:'',\r\n        showAlert: false,\r\n        state:''\r\n\r\n        \r\n    }\r\n}\r\n  static navigationOptions ={\r\n    header: null\r\n  }\r\n  \r\n\r\n  changeHandler = e =>{\r\n    this.setState({[e.target.name]:e.target.value})\r\n  }\r\n  showAlert = () => {\r\n    this.setState({\r\n      showAlert: true\r\n    });\r\n  };\r\n  \r\n  hideAlert = () => {\r\n    this.setState({\r\n      showAlert: false\r\n    });\r\n  };\r\n\r\n  submit(){\r\n  let collection={}\r\n  collection.username=this.state.name,\r\n  collection.email=this.state.email,\r\n  collection.password=this.state.password\r\n  \r\n  console.log(collection)\r\n  \r\n  var url = 'http://127.0.0.1:8000/auth/register/';\r\n\r\n  fetch(url, {\r\n    method: 'POST', \r\n    body: JSON.stringify(collection), \r\n    headers:{\r\n      'Content-Type': 'application/json'\r\n    }\r\n  }).then(res => res.json().then(data => ({\r\n    data: data,\r\n    status: res.status\r\n  }))\r\n    .catch(error => console.error('Error:', error))\r\n    .then(response => {\r\n      console.log(response.status, response.data)\r\n      if (response.status == '201') {\r\n        this.state.state=('Se ha enviado un correo de confirmacion a:'+'\\n'+response.data.data.email)\r\n        this.showAlert()\r\n        window.location.reload(false);\r\n      }\r\n      else if (response.status == '403') {\r\n        alert(response.data.detail)\r\n      }\r\n      else if (response.status == '400' && response.data.errors) {\r\n        if(response.data.errors.email && response.data.errors.username){\r\n          this.state.state=(response.data.errors.email+'\\n'+response.data.errors.username)\r\n          this.showAlert()\r\n        }\r\n        else if(response.data.errors.email){\r\n          this.state.state=(response.data.errors.email)\r\n          this.showAlert()\r\n        }\r\n        else if(response.data.errors.username){\r\n          this.state.state=(response.data.errors.username)\r\n          this.showAlert()\r\n        }\r\n       \r\n       \r\n      }\r\n      else if (response.status == '400' && response.data.errors.password) {\r\n        if(response.data.errors.email && response.data.errors.password){\r\n          this.state.state=(response.data.errors.password)\r\n          this.showAlert()\r\n        }\r\n      }\r\n      else if (response.status == '400' && response.data.email) {\r\n        alert(response.data.email)\r\n       \r\n      }\r\n\r\n    }));\r\n \r\n  }\r\n\r\n  render() {\r\n    \r\n    const {name,email, password} = this.state;\r\n    const {showAlert} = this.state;\r\n    return (\r\n          <View style={styles.container}>\r\n          \r\n          \r\n          <View style={styles.containerName}>\r\n             \r\n             <TextInput  placeholder=\"Nombre y apellido\" placeholderTextColor=\"gray\"\r\n             style={styles.textInput} onChange={this.changeHandler}name=\"name\" value={name}  /> \r\n           </View>\r\n            \r\n           <View style={styles.containerEmail}>\r\n             \r\n             <TextInput  placeholder=\"Email\" placeholderTextColor=\"gray\"\r\n             style={styles.textInput} onChange={this.changeHandler}name=\"email\"  value={email}  /> \r\n           </View>\r\n\r\n           <View style={styles.containerPassword}>\r\n           \r\n             <TextInput placeholder=\"Contrasena\" placeholderTextColor=\"gray\"\r\n             style={styles.textInput} onChange={this.changeHandler} name=\"password\" secureTextEntry={true} value={password} /> \r\n           </View>\r\n           <View style={styles.containerPicker}>\r\n           <Picker\r\n           selectedValue=\"Zona de preferencias\"\r\n        style={styles.picker} >\r\n        <Picker.Item label=\"Matematicas\" value=\"java\" />\r\n        <Picker.Item label=\"Espanol\" value=\"js\" />\r\n      </Picker>\r\n      </View>\r\n      <AwesomeAlert\r\n          show={showAlert}\r\n          showProgress={false}\r\n          title=\"Advertencia\"\r\n          message={this.state.state}\r\n          closeOnTouchOutside={true}\r\n          closeOnHardwareBackPress={false}\r\n          showConfirmButton={true}\r\n          confirmText=\"Ok\"\r\n          confirmButtonColor=\"#DD6B55\"\r\n          onCancelPressed={() => {\r\n            this.hideAlert();\r\n          }}\r\n          onConfirmPressed={() => {\r\n            this.hideAlert();\r\n          }}\r\n        />\r\n\r\n           <View style={styles.containerSignIn}>\r\n             <TouchableOpacity\r\n                     style={styles.buttonLogin}\r\n                     onPress={()=>this.submit()}\r\n                     underlayColor='#fff'>\r\n                     <Text style={styles.loginText}>Entrar</Text>\r\n           </TouchableOpacity>\r\n           </View>\r\n            \r\n            \r\n                             \r\n            \r\n          \r\n          </View>        \r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container:{\r\n    flex:1,\r\n    flexDirection: 'column',\r\n    justifyContent:'center',\r\n    alignItems: 'stretch',\r\n    width:'100%',\r\n    height:'100%',\r\n    marginTop:'10%'\r\n  },\r\n  avatarCamara:{\r\n    width:'25%',\r\n    height:'20%',\r\n    alignSelf:'center',\r\n    marginTop:'10%'\r\n  },\r\n  containerRegister:{\r\n    flex:2,\r\n    marginLeft:'3%',\r\n    marginRight:'3%',\r\n    borderBottomColor: 'gray',\r\n    borderBottomWidth: 1,\r\n  },\r\n  \r\n  containerSignIn:{\r\n    height: 50,\r\n    marginLeft:'12%',\r\n    marginRight:'12%',\r\n    marginTop:'9%'\r\n  },\r\n  containerName:{\r\n    height: 50,\r\n    flexDirection:'row',\r\n    justifyContent:'center',\r\n    backgroundColor:'white',\r\n    marginLeft:'10%',\r\n    marginRight:'10%',\r\n    \r\n  },\r\n  containerPassword:{\r\n    height: 50,\r\n    flexDirection:'row',\r\n    justifyContent:'center',\r\n    backgroundColor:'white',\r\n    marginLeft:'10%',\r\n    marginRight:'10%',\r\n    marginTop:'2%'\r\n  },\r\n  containerEmail:{\r\n    height: 50,\r\n    flexDirection:'row',\r\n    justifyContent:'center',\r\n    backgroundColor:'white',\r\n    marginLeft:'10%',\r\n    marginRight:'10%',\r\n    marginTop:'2%'\r\n  },\r\n  containerPicker:{\r\n    height: 50,\r\n    flexDirection:'row',\r\n    justifyContent:'center',\r\n    backgroundColor:'white',\r\n    marginLeft:'10%',\r\n    marginRight:'10%',\r\n    marginTop:'2%'\r\n  },\r\n  \r\n  icon:{\r\n    flex:1\r\n  },\r\n  textInput:{\r\n    backgroundColor:'transparent',\r\n    flex:5,\r\n    color:'black',\r\n    paddingLeft:'25%'\r\n  },\r\n  textInput:{\r\n    backgroundColor:'transparent',\r\n    flex:5,\r\n    color:'black',\r\n    \r\n    borderBottomWidth:1,\r\n    borderBottomColor:'gray',\r\n    textAlign:'left'\r\n\r\n    \r\n\r\n  },\r\n  containerSignIn:{\r\n    height: 60,\r\n    width:'30%',\r\n    marginTop:'10px',\r\n    alignSelf:'center',\r\n    \r\n\r\n  },\r\n  buttonLogin:{\r\n    backgroundColor:'#22d48a',\r\n    borderRadius:5,\r\n    alignItems:'center',\r\n    paddingTop:'20px',\r\n    paddingBottom:'20px',\r\n    width:'350%',\r\n    alignSelf:'center',\r\n    marginTop:'15%'\r\n  },\r\n  loginText:{\r\n    color:'#fff',\r\n    textAlign:'center',\r\n    paddingLeft : 10,\r\n    paddingRight : 10,\r\n    fontWeight:'bold',\r\n    fontSize:15\r\n  },\r\n  picker:{\r\n    backgroundColor:'transparent',\r\n    flex:5,\r\n    color:'black',\r\n    paddingLeft:'25%',\r\n    color:'gray',\r\n   \r\n  }\r\n})"]},"metadata":{},"sourceType":"module"}